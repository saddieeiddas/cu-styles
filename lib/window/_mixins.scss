/**
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

 @mixin cu-window($conf: ()) {

  $conf: extend((
   // defaults
   header: (
     width: 100%,
     height: 35px
   ),
   content: (
     width: 100%,
     height: 100%
   ),
   footer: (
     width: 100%,
     height: 35px
   )
  ), $conf);

  $header: map-get($conf, header);
  $content: map-get($conf, content);
  $footer: map-get($conf, footer);

  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;

  &.cu-window-transparent {
    .cu-window-header:before,
    .cu-window-content:before,
    .cu-window-footer:before,
    .cu-window-header:after,
    .cu-window-content:after,
    .cu-window-footer:after {
      opacity: 0.85;
    }
  }

  .cu-window-header {
    position: relative;
    width: map-get($header, width);
    height: map-get($header, height);
    &:before, &:after {
      content: ' ';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
    }
  }
  .cu-window-content {
    position: relative;
    width: map-get($content, width);
    height: map-get($content, height);
    &:before, &:after {
      content: ' ';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
    }
  }
  .cu-window-footer {
    position: relative;
    width: map-get($footer, width);
    height: map-get($footer, height);
    &:before, &:after {
      content: ' ';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
    }
  }
}

@mixin cu-window-content--header--footer() {
  & :first-child:nth-last-child(3) ~ .cu-window-content {
    @content;
  }
}

@mixin cu-window-content--header--no-footer() {
  & :first-child:nth-last-child(2) ~ .cu-window-content {
    @content;
  }
}

@mixin cu-window-content--no-header--footer() {
  & :first-child:nth-last-child(2).cu-window-content {
    @content;
  }
}

@mixin cu-window-content--no-header--no-footer() {
  & :first-child:nth-last-child(1).cu-window-content {
    @content;
  }
}
